(()=>{const e=document.querySelector("input"),t=document.querySelector("button"),n=document.querySelector("#weather"),r=n.querySelector("#city"),i=n.querySelector("#temp-value"),c=n.querySelector("#conditions"),a=n.querySelector("#weather-icon"),o=(n.querySelector("#country"),n.querySelector("#humidity span")),s=n.querySelector("#wind span"),d=document.querySelector("#error"),u=async t=>{try{const d=await(async e=>{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=06e17fa7454dd6abc133d6d160ed293b&units=metric`);return await t.json()})(t);r.innerHTML=d.name,country.src=`https://countryflagsapi.com/svg/${d.sys.country}`,i.innerHTML=d.main.temp.toFixed(1),c.innerHTML=d.weather[0].description,o.innerHTML=`${d.main.humidity} %`,s.innerHTML=`${Math.trunc(3.6*d.wind.speed)} km/h`,a.src=`https://openweathermap.org/img/w/${d.weather[0].icon}.png`,n.classList.remove("hidden"),e.value=""}catch(e){d.innerHTML="This city does not exist",d.classList.remove("hidden"),n.classList.add("hidden"),setTimeout((()=>d.classList.add("hidden")),3e3)}};t.addEventListener("click",(()=>u(e.value))),e.addEventListener("keyup",(t=>"Enter"===t.key?u(e.value):null))})();